var q=Object.defineProperty;var X=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>X(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function s(e,t,n){const i=document.createElement(e);if(t){if(t.id&&(i.id=t.id),t.class&&(typeof t.class=="string"?i.classList.add(t.class):i.classList.add(...t.class)),t.text&&(i.textContent=t.text),t.attrs)for(const a in t.attrs)i.setAttribute(a,t.attrs[a]);if(t.events)for(const a in t.events)i.addEventListener(a,t.events[a]);if(t.style)for(const a in t.style){const c=t.style[a];c!==void 0&&(i.style[a]=c)}}return n&&i.append(...n),i}function M(e){e instanceof HTMLElement&&e.classList.contains("ripple")&&P(e),e.childNodes.forEach(t=>M(t))}const Y=new MutationObserver(e=>{e.forEach(t=>{t.addedNodes.forEach(M)})});function z(e,t){const n=s("div",{class:"ripple-bg"});n.style.width="50px",n.style.height="50px";const{top:i,left:a,width:c,height:r}=e.getBoundingClientRect(),o=Math.sqrt(c*c+r*r)*2;n.style.width=o+"px",n.style.height=o+"px";const l=t.clientX-a,u=t.clientY-i;return n.style.left=l+"px",n.style.top=u+"px",e.append(n),n}function P(e){e.addEventListener("pointerdown",t=>{t.preventDefault();const n=z(e,t);let i=!0,a=!1;const c=()=>{n.removeEventListener("animationend",r),n.classList.add("fade-out"),n.addEventListener("animationend",()=>{n.remove()})},r=()=>{a=!0,i||c()},o=()=>{i=!1,a&&c(),window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o)};n.addEventListener("animationend",r),window.addEventListener("pointerup",o),window.addEventListener("pointercancel",o)})}function W(e){e.querySelectorAll(".ripple").forEach(t=>{t instanceof HTMLElement&&P(t)}),Y.observe(e,{subtree:!0,childList:!0})}function f(e){return e.classList.add("ripple"),e}class O{constructor(t){x(this,"_value");x(this,"_listeners");this._value=t,this._listeners=[]}get value(){return this._value}setValue(t){this._value=t,this._listeners.forEach(n=>n(t))}update(t){this.setValue(t(this._value))}listen(t){this._listeners.push(t)}unlisten(t){const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}dispose(){this._listeners=[]}}class T extends O{constructor(n,i){var t=(...Ie)=>(super(...Ie),x(this,"key"),this);const a=localStorage.getItem(n);a===null?(t(i),localStorage.setItem(n,JSON.stringify(i))):t(JSON.parse(a)),this.key=n}setValue(n){localStorage.setItem(this.key,JSON.stringify(n)),super.setValue(n)}}class p extends O{constructor(n,i){super(n.value[i]);x(this,"_parent");x(this,"_key");this._parent=n,this._key=i}setValue(n){super.setValue(n),this._parent.update(i=>({...i,[this._key]:n}))}get value(){return this._parent.value[this._key]}}function F(e,t){return t.deps.forEach(n=>n.listen(e)),t.immediate===!0&&e(),()=>t.deps.forEach(n=>n.unlisten(e))}function D(e,t){const n=s("button",{class:"tag",text:e,events:{click(){t(n)}}});return n}function Z(e){const t=s("input",{class:"input",attrs:{placeholder:"Press Enter to add"}}),n=s("form",{style:{display:"contents"},events:{submit(o){o.preventDefault(),c()}}},[t]),i=o=>l=>{l.remove(),e.update(u=>u.toSpliced(u.indexOf(o),1))},a=o=>{e.value.includes(o)||(e.update(l=>[...l,o]),r.append(D(o,i(o))))},c=()=>{const o=t.value.trim();o!==""&&(a(o),t.value="")},r=s("div",{class:"container"});return r.append(...e.value.map(o=>D(o,i(o)))),t.addEventListener("keydown",o=>{o.code=="Enter"&&(o.preventDefault(),c())}),s("div",{class:"tag-view"},[n,r])}function E(){const e=new Array(36);for(let t=0;t<36;t++)e[t]=Math.floor(Math.random()*16);return e[14]=4,e[19]&=-5,e[19]|=8,e[8]=e[13]=e[18]=e[23]="-",e.map(t=>t.toString(16)).join("")}const G="/front-end-entrance-exam/edit.svg";function R(e){return new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=n})}function g(e,t,n,i){const a=s("details",{class:["section",t],events:{toggle(){e.update(()=>a.open)}}},[s("summary",{class:"title",text:n}),s("div",{class:"container"},i)]);return a.open=e.value,a}function I(e,t){const n=s("input",{class:"input",attrs:{type:t.type??"text"}});return t.placeholder&&(n.placeholder=t.placeholder),n.value=e.value,n.addEventListener("input",i=>{e.update(()=>n.value)}),n}const J=5e6,K="5mb",Q=1e6,ee="1mb";function te(e,t){const n=l=>{if(!l.type.startsWith("image/")){i.value="",e.update(()=>"");return}if(l.size>J){alert(`Maximum allowed picture size: ${K}`);return}R(l).then(u=>{e.update(()=>u)})},i=s("input",{class:"input",id:t,attrs:{type:"file"},events:{change(){const l=i.files;l!==null&&n(l[0])}}}),a=s("label",{class:"label",attrs:{for:t}},[i,s("span",{class:"text"},[s("button",{class:"select",text:"Select",events:{click(){i.click()}}}),s("span",{text:" or drop"})])]),c=s("img",{class:"preview"});e.value!==""&&(c.src=e.value),e.listen(l=>l!==""?c.src=l:c.removeAttribute("src"));const r=s("div",{class:"image-view"},[a,c]);let o=0;return window.addEventListener("dragenter",l=>{l.preventDefault(),++o,r.classList.toggle("dropping",!0)}),window.addEventListener("dragleave",l=>{l.preventDefault(),--o,o===0&&r.classList.toggle("dropping",!1)}),window.addEventListener("dragover",l=>{l.preventDefault(),o===0&&r.classList.toggle("dropping",!1)}),a.addEventListener("drop",l=>{l.preventDefault(),r.classList.toggle("dropping",!1),o=0;const u=l.dataTransfer;if(console.log(u),u===null)return;const d=u.files;d.length===1?n(d[0]):u.items[0].kind==="string"&&u.items[0].type.toLowerCase().includes("url")&&u.items[0].getAsString(h=>{e.update(()=>h)})}),r}function V(e,t,n,i,a){const c=s("ul",{class:"list"}),r=u=>{const[d,h]=i(u),L=s("button",{class:"remove-btn",text:"-",events:{click(){h&&h(),t.update(b=>b.filter(U=>U.id!==u.id)),S.remove()}}});d.classList.add("inner");const S=s("li",{class:"item"},[f(L),d]);return S},o=()=>{const u=n();return t.update(d=>[...d,u]),c.append(r(u)),u},l=s("button",{class:"add-btn",text:"+",events:{click(){const u=o();a!=null&&a.creator&&N(u,a.creator,a.saverFactory(u))}}});return c.append(...t.value.map(r)),s("div",{class:["list-view",e]},[c,f(l)])}function N(e,t,n){const[i,a]=t(e),c=()=>{d.remove(),i.innerHTML=""},r=s("button",{class:"save-btn",text:"Save",events:{click(){n(a()),c()}}}),o=s("button",{class:"close-btn",text:"Close",events:{click:c}}),l=s("div",{class:"buttons"},[f(o),f(r)]),u=s("div",{class:"dialog"},[i,l]),d=s("div",{id:"overlay"},[u]);document.body.append(d)}function ne(e,t,n){return f(s("button",{class:"edit-btn",events:{click(){N(e.value.find(i=>i.id===t),n,i=>{e.update(a=>a.map(c=>c.id===t?{...c,...i}:c))})}}},[s("img",{attrs:{src:G}})]))}const se=e=>V("languages",e,()=>({id:E(),level:1,name:""}),t=>{const n=s("select",{class:"level",events:{change(){e.update(a=>{const c=parseInt(n.value);return a.map(r=>r.id===t.id?{...r,level:c}:r)})}},attrs:{value:t.level.toString()}},Array.from({length:5},(a,c)=>{const r=s("option",{text:`${c+1}`,attrs:{value:(c+1).toString()}});return t.level===c+1&&(r.selected=!0),r})),i=s("input",{class:"name",attrs:{type:"text",value:t.name},events:{input(){e.update(a=>a.map(c=>c.id===t.id?{...c,name:i.value}:c))}}});return[s("div",{class:"language"},[i,n])]}),_=(e,t,n,i,a)=>V(e,t,n,c=>{const r=s("span",{class:"title",text:t.value.find(u=>u.id===c.id)[i]}),o=u=>{console.log("bebra"),r.textContent=u.find(d=>d.id===c.id)[i]};t.listen(o);const l=()=>t.unlisten(o);return[s("div",{},[r,ne(t,c.id,a)]),l]},{creator:a,saverFactory:c=>r=>{t.update(o=>o.map(l=>l.id===c.id?{...l,...r}:l))}});function m(e,t){const n=s("input",{class:["input",e],attrs:{type:"text"}});return t&&(n.value=t),n}function v(e,...t){return s("div",{class:"titled-input"},[s("span",{class:"title",text:e}),s("div",{class:"inner"},t)])}function $(e){const t=s("select",{class:["select","input"]},[s("option",{text:"Date",attrs:{value:"date",selected:""}}),s("option",{text:"Range",attrs:{value:"range"}})]);t.value=e.type;const n=m("date-from",e.type==="date"?e.value:e.value[0]),i=m("date-to",e.type==="date"?"":e.value[1]);i.classList.toggle("hidden",t.value==="date"),t.addEventListener("change",r=>i.classList.toggle("hidden",t.value==="date"));const a=()=>(t.value==="range"?"range":"date")==="date"?{type:"date",value:n.value}:{type:"range",value:[n.value,i.value]},c=v("Date",t,n,i);return c.classList.add("date-view"),[c,a]}function A(e,t){const n=s("button",{class:"tag",text:e,events:{click(){t(n)}}});return n}function j(e){const t=s("input",{class:"input",attrs:{placeholder:"Press Enter to add"}}),n=s("form",{style:{display:"contents"},events:{submit(l){l.preventDefault(),r()}}},[t]),i=new Set(e),a=l=>u=>{u.remove(),i.delete(l)},c=l=>{i.has(l)||(i.add(l),o.append(A(l,a(l))))},r=()=>{const l=t.value.trim();l!==""&&(c(l),t.value="")},o=s("div",{class:"container"});return o.append(...e.map(l=>A(l,a(l)))),t.addEventListener("keydown",l=>{l.code=="Enter"&&(l.preventDefault(),r())}),[s("div",{class:"tag-view"},[n,o]),()=>Array.from(i)]}function ie(e){const[t,n]=$(e.date),i=m("title",e.title),a=v("Title",i),c=m("subtitle",e.subitle),r=v("Subtitle",c),[o,l]=j(e.description),u=v("About",o),d=()=>({date:n(),title:i.value,subitle:c.value,description:l()});return[s("div",{class:["form","experience"]},[t,a,r,u]),d]}const ae=e=>_("experience",e,()=>({id:E(),date:{type:"date",value:""},title:"",subitle:"",description:[]}),"title",t=>ie(t));function ce(e){const t=s("div",{class:"container"}),n=new Set,i=o=>{n.has(o)||(n.add(o),t.append(s("img",{class:"icon",attrs:{src:o}})))};e.forEach(i);const a=s("input",{class:"input",attrs:{type:"file",accept:"image/*"},events:{change(){const o=a.files;if(o)for(let l=0;l<o.length;++l){const u=o[l];if(console.log(u.name,u.type),!!u.type.startsWith("image/")){if(u.size>Q){alert(`Maximum allowed icon size: ${ee}`);continue}R(u).then(i)}}}}});a.multiple=!0;const c=f(s("button",{text:"+",class:"add-btn",events:{click(){a.click()}}},[a])),r=()=>Array.from(t.querySelectorAll("img")).map(o=>o.src);return[s("div",{class:"icons-view"},[t,c]),r]}function oe(e){const t=m("title",e.title),n=v("Title",t),[i,a]=ce(e.icons),c=v("Icons",i),r=()=>({title:t.value,icons:a()});return[s("div",{class:["form","toolset"]},[n,c]),r]}const le=e=>_("toolsets",e,()=>({id:E(),title:"",icons:[]}),"title",t=>oe(t));function re(e){const[t,n]=$(e.date),i=m("title",e.title),a=v("Title",i),c=m("place",e.place),r=v("Place",c),o=s("div",{class:"tags-container"}),l=b=>{o.append(m("line",b))};e.tags.forEach(l);const[u,d]=j(e.tags),h=v("Tags",u);return[s("div",{class:["form","education"]},[t,a,r,h]),()=>({date:n(),title:i.value,tags:d(),place:c.value})]}const ue=e=>_("education",e,()=>({id:E(),date:{type:"date",value:""},title:"",tags:[],place:""}),"title",t=>re(t));function de(e){const t=new T("open-sections",{picture:!1,about:!1,languages:!1,experience:!1,toolsets:!1,education:!1,intrests:!1,final:!1}),n=new p(e,"picture"),i=new p(e,"name"),a=new p(e,"job"),c=new p(e,"languages"),r=new p(e,"experience"),o=new p(e,"tools"),l=new p(e,"education"),u=new p(e,"intrests"),d=new p(e,"email");return s("aside",{id:"configurator"},[s("h1",{class:"title",text:"Your resume"}),g(new p(t,"picture"),"picture","Picture",[te(n,"avatar")]),g(new p(t,"about"),"about","About you",[I(i,{placeholder:"Your name"}),I(a,{placeholder:"Your position"})]),g(new p(t,"languages"),"languages","Languages",[se(c)]),g(new p(t,"experience"),"experience","Experience",[ae(r)]),g(new p(t,"toolsets"),"toolsets","Tools",[le(o)]),g(new p(t,"education"),"education","Education",[ue(l)]),g(new p(t,"intrests"),"intrests","Intrests",[Z(u)]),g(new p(t,"final"),"final","Email",[I(d,{type:"email",placeholder:"Your email"})])])}function pe(){const e=document.querySelector("#resume"),{jsPDF:t}=window.jspdf,n=i=>{console.log(e.clientWidth,e.clientHeight),console.log(i.width,i.height);const a=new t(i.width>i.height?"l":"p","mm",[i.width,i.height]),c=i.toDataURL("image/png");a.addImage(c,"PNG",0,0,i.width,i.height),a.save("resume.pdf")};html2canvas(e,{useCORS:!0}).then(n)}function fe(){return f(s("button",{id:"export",text:"Save as PDF",events:{click:pe}}))}function B(e){return e.type==="date"?`${e.value}`:`${e.value[0]} - ${e.value[1]}`}function w(e,t){return s("section",{id:e,class:"section"},t)}function y(e){return s("h1",{text:e,class:"title"})}function ve(e){return s("div",{class:"language"},[s("span",{text:e.name,class:"name"}),s("div",{class:"level"},[s("div",{class:"progress",style:{width:e.level/5*100+"%"}})])])}function ge(e){return s("div",{class:"toolset"},[s("h2",{class:"title",text:e.title}),...e.icons.map(t=>s("img",{class:"icon",attrs:{src:t}}))])}function me(e,t){const n=s("div",{class:"date-container"},[s("span",{text:B(e.date),class:"date"})]);t&&n.append(s("span",{class:"badge",text:"most recent"}));const i=s("div",{class:"experience"},[n,s("div",{class:"text-container"},[s("div",{class:"left"},[s("h3",{text:e.title,class:"title"}),s("h4",{text:e.subitle,class:"subtitle"})]),s("div",{class:"right"},[s("ul",{class:"description"},e.description.map(a=>s("li",{text:a})))])])]);return t&&i.classList.add("most-recent"),i}function he(e,t){const n=s("div",{class:"date-container"},[s("span",{text:B(e.date),class:"date"})]);t&&n.append(s("img",{class:"heart",attrs:{src:"./public/heart.svg"}}));const i=s("div",{class:"education"},[n,s("div",{class:"main-container"},[s("h3",{text:e.title,class:"title"}),s("div",{class:"tags"},e.tags.map(a=>s("span",{text:`#${a}`})))]),s("span",{text:e.place,class:"place"})]);return t&&i.classList.add("most-recent"),i}function we(e){return s("div",{class:"intrests"},e.map(t=>s("span",{class:"intrest",text:t})))}function C(e){const t=s("section",{id:"picture"});{const u=s("img",{class:"image"});e.picture!==""&&(u.src=e.picture),t.append(u)}const n=w("about",[s("span",{text:"Hello 👋 I'm"}),s("div",{class:"container"},[s("span",{class:"title",text:e.name}),s("span",{class:"subtitle",text:e.job})])]),i=w("languages",[y("Languages"),s("div",{class:"container"},e.languages.map(u=>ve(u)))]),a=w("experience",[y("Experience"),s("div",{class:"container"},e.experience.map((u,d)=>me(u,d===0)))]),c=w("tools",[y("Tools"),s("div",{class:"container"},e.tools.map(u=>ge(u)))]),r=w("education",[y("Education"),s("div",{class:"container"},e.education.map((u,d)=>he(u,d===0)))]),o=w("intrests",[y("Intrests"),we(e.intrests)]),l=w("final",[y("Let´s chat! I´m ready to work on excinting projects"),s("span",{text:e.email,class:"text"})]);return s("div",{id:"resume"},[t,n,i,a,c,r,o,l])}function H(e){return Math.pow(10,e)}function xe(e,t,n){return Math.max(e,Math.min(t,n))}function ye(e){const t=r=>{e.update(o=>xe(-.6,o+r,.6))},n=s("button",{class:"button",text:"-",events:{click(){t(-.1)}}}),i=s("span",{class:"text"}),a=s("button",{class:"value",events:{click(){e.update(()=>0)}}},[i]),c=s("button",{class:"button",text:"+",events:{click(){t(.1)}}});return F(()=>{i.textContent=(H(e.value)*100).toFixed(0)+"%",n.disabled=e.value<=-.6,c.disabled=e.value>=.6},{deps:[e],immediate:!0}),s("div",{id:"scaler"},[f(n),f(a),f(c)])}function be(e){return s("div",{id:"resume-controls"},[s("div",{class:"left"},[ye(e)]),s("div",{class:"right"},[fe()])])}function Ee(e){const t=new T("resume-scale",0);let n=C(e.value);const i=s("div",{class:"transform"},[n]);F(()=>i.style.scale=H(t.value).toString(),{deps:[t],immediate:!0});const a=c=>{const r=C(c);n.replaceWith(r),n=r};return e.listen(()=>a(e.value)),s("div",{id:"preview"},[be(t),s("div",{id:"resume-container"},[i])])}function Le(){const e=new T("resume",{picture:"",name:"",job:"",languages:[],experience:[],tools:[],education:[],intrests:[],email:""}),t=s("div",{id:"app"},[de(e),Ee(e)]);return window.addEventListener("DOMContentLoaded",n=>{W(document.body)}),t}document.body.append(Le());var k;(k=document.querySelector("#setup"))==null||k.remove();
